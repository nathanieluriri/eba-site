var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

import{_ as ft}from"./FormComponent.vue.b573ebae.js";import{d as _t,I as gt,E as vt,r as L,M as bt,c as p,J as j,g as yt,ac as Ct,o as kt,x as ie,u as wt,a as s,b as i,e as n,z as W,n as re,f as t,Q as R,t as r,h as F,i as u,m as St,w as De,v as Dt,l as X,p as ee,F as Le,k as xe,R as Lt,P as xt,U as Mt,V as zt,a6 as qe,_ as Yt}from"./entry.285a7035.js";/* empty css            *//* empty css              */import{j as d,K as Tt,k as qt,L as Rt,y as Ft,z as It,I as Ot,F as Bt,J as Et}from"./constants.7efca516.js";import{L as Pt,a as At,l as Vt,C as de,A as Me}from"./advancedFormat.c1cbe87f.js";import{t as Nt,u as Ht}from"./timezone.63a5c88b.js";import{s as ze}from"./vue-multiselect.esm.f3270b7e.js";import{f as Ut,i as $t}from"./funnel_event_helper.640aa911.js";import{_ as jt}from"./CalendarRecurringAppointments.vue.07428714.js";import{_ as Z}from"./MoonLoader.vue.48509ae3.js";import{_ as Wt}from"./DatePick.vue.1acca1fe.js";import{s as Zt,a as Ye,i as Qt}from"./utils.ad5f9796.js";import{a as Te}from"./currency_helper.0e2fcc1c.js";import{d as Jt,g as Gt}from"./calendar_helper.3c24cf7d.js";const k=y=>(Mt("data-v-ed82264d"),y=y(),zt(),y),Kt={id:"app",ref:"app"},Xt=["onSubmit"],ea=["id"],ta={key:0,class:"hl_widget-header"},aa={key:0},oa={key:1,class:"hl_widget-header"},na=k(()=>n("button",{type:"button",class:"hl_widget-close"},"×",-1)),sa={key:2,class:"hl_widget-header"},la=k(()=>n("button",{type:"button",class:"hl_widget-close"},"×",-1)),ia={class:"hl_widget-wrapper"},ra={key:0,class:"hl_widget-form"},da={key:0},ca=["src"],ua=k(()=>n("hr",{class:"title-border"},null,-1)),ma={key:1,class:"hl_widget_top_space"},pa={class:"hl_widget-step1"},ha={key:0,class:"hl_form-group",style:{"max-width":"300px"}},fa={class:"hl_widget--pick-date-time"},_a={class:"hl_widget--pick-date"},ga={class:"cal-title"},va={key:0,class:"multiple-cal-container"},ba={class:"option__desc"},ya={class:"option__title"},Ca={class:"relative"},ka={key:1,class:"no-slots-block"},wa=["aria-label"],Sa=k(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",class:"bi bi-chevron-right",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})],-1)),Da={class:"timezone-picker-group"},La={class:"option__desc"},xa={class:"option__title"},Ma={class:"option_sub_title"},za={class:"details-item-step2"},Ya=k(()=>n("svg",{width:"20",height:"20",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[n("path",{fill:"339af0",d:"M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"})],-1)),Ta=[Ya],qa={key:0,class:"text-capitalize"},Ra=["onClick"],Fa={style:{cursor:"pointer","text-decoration":"underline",color:"#178af6"}},Ia={class:"pointer"},Oa={key:0,class:"loader"},Ba={key:1,class:"pick-hours--wrap"},Ea={class:"pick-hours--am"},Pa={key:0},Aa=["id"],Va=["value","id","checked"],Na=["for","onClick","textContent"],Ha=["onClick","disabled"],Ua=["aria-label"],$a={class:"pick-hours--pm"},ja={key:0},Wa=["id"],Za=["value","id","checked"],Qa=["for","textContent","onClick"],Ja=["onClick"],Ga=["aria-label"],Ka={key:0,class:"hl_form-group has-error"},Xa={class:"error"},eo={class:"details-item"},to=k(()=>n("svg",{width:"20",height:"20",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[n("path",{fill:"339af0",d:"M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"})],-1)),ao=[to],oo={key:1,class:"btn-back pl-0 pr-3 disable-back-btn"},no=k(()=>n("svg",{width:"20",height:"20",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[n("path",{fill:"339af0",d:"M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"})],-1)),so=[no],lo={class:"calendar-details-container"},io={key:0,class:"mb-1 d-flex align-items-center mr-2 step3-btns step3-btns--ts-btn"},ro=k(()=>n("svg",{width:"15",height:"15",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[n("path",{d:"M1024 544v448q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h224v-352q0-14 9-23t23-9h64q14 0 23 9t9 23zm416 352q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})],-1)),co={class:"mx-2"},uo={key:0,class:"ml-2"},mo={key:1,class:"d-flex align-items-center mb-1 step3-btns calendar-selected-slot"},po=k(()=>n("svg",{width:"15",height:"15",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},[n("path",{d:"M192 1664h1408v-1024h-1408v1024zm384-1216v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm768 0v-288q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v288q0 14 9 23t23 9h64q14 0 23-9t9-23zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"})],-1)),ho={class:"ml-2 text-capitalize"},fo={key:0,class:"calendars-payment-info"},_o={class:"mb-1 d-flex align-items-center mr-2 step3-btns step3-btns--ts-btn"},go=k(()=>n("svg",{width:"17",height:"17",viewBox:"0 0 22 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[n("path",{d:"M21 6.5H1M10 10.5H5M1 4.7L1 12.3C1 13.4201 1 13.9802 1.21799 14.408C1.40973 14.7843 1.71569 15.0903 2.09202 15.282C2.51984 15.5 3.07989 15.5 4.2 15.5L17.8 15.5C18.9201 15.5 19.4802 15.5 19.908 15.282C20.2843 15.0903 20.5903 14.7843 20.782 14.408C21 13.9802 21 13.4201 21 12.3V4.7C21 3.5799 21 3.01984 20.782 2.59202C20.5903 2.2157 20.2843 1.90974 19.908 1.71799C19.4802 1.5 18.9201 1.5 17.8 1.5L4.2 1.5C3.0799 1.5 2.51984 1.5 2.09202 1.71799C1.7157 1.90973 1.40973 2.21569 1.21799 2.59202C1 3.01984 1 3.57989 1 4.7Z",stroke:"#188bf6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),vo={class:"mx-2"},bo={class:"ml-2"},yo={key:0,class:"d-flex align-items-center mb-1 step3-btns calendar-deposit-amount"},Co=k(()=>n("svg",{width:"16",height:"16",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[n("path",{d:"M12.5295 7.35186C11.9571 7.75995 11.2566 8 10.5 8C8.567 8 7 6.433 7 4.5C7 2.567 8.567 1 10.5 1C11.753 1 12.8522 1.65842 13.4705 2.64814M5 19.0872H7.61029C7.95063 19.0872 8.28888 19.1277 8.61881 19.2086L11.3769 19.8789C11.9753 20.0247 12.5988 20.0388 13.2035 19.9214L16.253 19.3281C17.0585 19.1712 17.7996 18.7854 18.3803 18.2205L20.5379 16.1217C21.154 15.5234 21.154 14.5524 20.5379 13.9531C19.9832 13.4134 19.1047 13.3527 18.4771 13.8103L15.9626 15.6449C15.6025 15.9081 15.1643 16.0498 14.7137 16.0498H12.2855L13.8311 16.0498C14.7022 16.0498 15.4079 15.3633 15.4079 14.5159V14.2091C15.4079 13.5055 14.9156 12.892 14.2141 12.7219L11.8286 12.1417C11.4404 12.0476 11.0428 12 10.6431 12C9.67833 12 7.93189 12.7988 7.93189 12.7988L5 14.0249M19 5.5C19 7.433 17.433 9 15.5 9C13.567 9 12 7.433 12 5.5C12 3.567 13.567 2 15.5 2C17.433 2 19 3.567 19 5.5ZM1 13.6L1 19.4C1 19.9601 1 20.2401 1.10899 20.454C1.20487 20.6422 1.35785 20.7951 1.54601 20.891C1.75992 21 2.03995 21 2.6 21H3.4C3.96005 21 4.24008 21 4.45399 20.891C4.64215 20.7951 4.79513 20.6422 4.89101 20.454C5 20.2401 5 19.9601 5 19.4V13.6C5 13.0399 5 12.7599 4.89101 12.546C4.79513 12.3578 4.64215 12.2049 4.45399 12.109C4.24008 12 3.96005 12 3.4 12L2.6 12C2.03995 12 1.75992 12 1.54601 12.109C1.35785 12.2049 1.20487 12.3578 1.10899 12.546C1 12.7599 1 13.0399 1 13.6Z",stroke:"#188bf6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ko={class:"mx-2"},wo={class:"ml-2 text-capitalize"},So={key:1},Do={key:4,class:"hl_widget-body"},Lo=["textContent"],xo={key:1},Mo={class:"hl_form-group"},zo=["placeholder"],Yo={key:5,class:"hl_widget-body"},To={key:6,class:"hl_widget-body"},qo={key:0,class:"hl_events-buttons"},Ro=["aria-label","href"],Fo={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22",height:"22",viewBox:"0 0 48 48",style:{fill:"#000000"}},Io=qe('<g id="surface1" data-v-ed82264d><path style="fill:#e0e0e0;" d="M 5.5 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 7.5 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.066406 2 11 L 2 37 C 2 38.933594 3.566406 40.5 5.5 40.5 Z " data-v-ed82264d></path><path style="fill:#d9d9d9;" d="M 26 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 7.5 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.066406 2 11 Z " data-v-ed82264d></path><path style="fill:#eeeeee;" d="M 6.746094 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11.5 Z " data-v-ed82264d></path><path style="fill:#e0e0e0;" d="M 25.746094 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11.5 L 18.769531 31.617188 Z " data-v-ed82264d></path><path style="fill:#ca3737;" d="M 42.5 9.5 L 5.5 9.5 C 3.566406 9.5 2 9.066406 2 11 L 2 37 C 2 38.933594 3.566406 40.5 5.5 40.5 L 7 40.5 L 7 12 L 41 12 L 41 40.5 L 42.5 40.5 C 44.433594 40.5 46 38.933594 46 37 L 46 11 C 46 9.066406 44.433594 9.5 42.5 9.5 Z " data-v-ed82264d></path><path style="fill:#f5f5f5;" d="M 42.5 7.5 L 5.5 7.5 C 3.566406 7.5 2 9.035156 2 11 C 2 12.207031 3.519531 13.257813 3.519531 13.257813 L 24 27.757813 L 44.480469 13.257813 C 44.480469 13.257813 46 12.207031 46 11 C 46 9.035156 44.433594 7.5 42.5 7.5 Z " data-v-ed82264d></path><path style="fill:#e84f4b;" d="M 43.246094 7.582031 L 24 21 L 4.753906 7.582031 C 3.179688 7.917969 2 9.296875 2 11 C 2 12.207031 3.519531 13.257813 3.519531 13.257813 L 24 27.757813 L 44.480469 13.257813 C 44.480469 13.257813 46 12.207031 46 11 C 46 9.296875 44.820313 7.917969 43.246094 7.582031 Z " data-v-ed82264d></path></g>',1),Oo=[Io],Bo={class:"calendar-button__text"},Eo=["aria-label","href"],Po={xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22",height:"22",viewBox:"0 0 48 48",style:{fill:"#000000"}},Ao=qe('<g id="surface1" data-v-ed82264d><path style="fill:#03a9f4;" d="M 21 31 C 21 32.105469 21.894531 33 23 33 L 40 33 C 41.105469 33 42 32.105469 42 31 L 42 16 C 42 14.894531 41.105469 14 40 14 L 23 14 C 21.894531 14 21 14.894531 21 16 Z " data-v-ed82264d></path><path style="fill:#b3e5fc;" d="M 42 16.976563 L 42 16 C 42 15.570313 41.863281 15.175781 41.632813 14.851563 L 30.367188 21.785156 L 22.828125 17.128906 L 22.125 19 L 30.585938 24 Z " data-v-ed82264d></path><path style="fill:#0277bd;" d="M 27 41.460938 L 6 37.460938 L 6 9.460938 L 27 5.460938 Z " data-v-ed82264d></path><path style="fill:#ffffff;" d="M 21.214844 18.3125 C 20.117188 17.035156 18.671875 16.398438 16.886719 16.398438 C 14.996094 16.398438 13.480469 17.066406 12.335938 18.402344 C 11.191406 19.738281 10.613281 21.488281 10.613281 23.648438 C 10.613281 25.691406 11.179688 27.359375 12.304688 28.632813 C 13.429688 29.90625 14.898438 30.542969 16.683594 30.542969 C 18.523438 30.542969 20.015625 29.890625 21.15625 28.566406 C 22.300781 27.253906 22.867188 25.523438 22.867188 23.367188 C 22.867188 21.28125 22.316406 19.59375 21.214844 18.3125 Z M 19.050781 26.734375 C 18.480469 27.503906 17.710938 27.886719 16.734375 27.886719 C 15.796875 27.886719 15.035156 27.492188 14.449219 26.699219 C 13.871094 25.914063 13.582031 24.839844 13.582031 23.488281 C 13.582031 22.152344 13.871094 21.074219 14.449219 20.265625 C 15.035156 19.453125 15.820313 19.054688 16.804688 19.054688 C 17.769531 19.054688 18.523438 19.445313 19.074219 20.230469 C 19.628906 21.027344 19.90625 22.125 19.90625 23.539063 C 19.90625 24.90625 19.617188 25.96875 19.050781 26.734375 Z " data-v-ed82264d></path></g>',1),Vo=[Ao],No={class:"calendar-button__text"},Ho={key:7,class:"hl_widget-footer"},Uo={key:0},$o=["onClick","disabled"],jo={key:8,class:"hl_widget-footer"},Wo=["disabled"],Zo=_t({__name:"CalendarComponent",props:{calendarData:{type:Object,required:!0},redirect:{type:Boolean,default:!0},funnelPreview:{type:Boolean,default:!1},calendarElementClass:{type:String,required:!1},pageUrl:{type:String,default:void 0},baseReferrrer:{type:String,default:void 0},urlParams:{type:Object,default:void 0},stickyContactData:{type:Object,default:void 0},stickyContactFingerprint:{type:String,default:void 0}},emits:["on-submit","moveToNextMonth"],setup(y,{emit:Re}){const te=y;d.extend(Pt),d.extend(At),d.extend(Nt),d.extend(Ht),d.extend(Vt);const{t:l,locale:M,setLocale:Fe}=gt(),w=vt(),I=xt(),ce=I.public.newBaseURL,O=L(),ue=L(),me=L(),ae=L(),Q=L([]),pe=L(),he=L(),J=d.tz.guess(),Y=L("en"),fe=L(),e=bt({baseUrl:I.public.newBaseURL,formData:{},calendarId:"",timezone:J,appointmentDate:d().tz(J).format("YYYY-MM-DD"),filterTimezone:"",availableTimezones:[],use24hTimezone:!1,selectedCalendar:null,allLocationData:[],events:[],daySlots:{},selectedSlot:null,isLoading:!0,notes:"",step:1,seqCall:0,serverError:"",popup:!1,eventId:void 0,event:void 0,fetchedMonth:null,AMVisibleSlot:4,PMVisibleSlot:4,openPayForm:!1,noCalendarError:!1,phone:"",checkboxRequiredStore:[],errorCheckboxList:[],checkBoxCheckedVal:[],stickyContact:!1,formLabelColor:"",buttonName:"Book appointment",selectedTimezone:"",timezones:Tt,availableTime:[],calendarStartingDate:d().tz(J).format("YYYY-M-D"),calendarRange:{from:d().tz(J).subtract(2,"days").format("YYYY-M-D")},disableContactTimezone:!1,disableBackBtn:!1,showNoDates:!1,isNextMonthDisabled:!1,timezoneChangeState:!1,lang:void 0,startDayOfWeek:"1",noEventFound:!1,thanksMsg:void 0,appointmentIds:[],creatingAppointment:!1,showRecurringSlots:!1,loadingRecurringSlots:!1,recurringSlots:[],guests:[],guestCountDetail:[],isFetchingSlots:!1,prev:!1,isInitialFetch:!0,uniqueId:qt(),autoNavigate:!1}),Ie=()=>{fe.value.showPopup()},Oe=p(()=>({isRecurring:K.value,onlySubmitForm:!1,shouldPayUsingPaymentElement:!1})),Be=p(()=>{Y.value;const o=[...d.weekdaysShort()];return o.push(o.shift()),o}),Ee=p(()=>(Y.value,d.months())),T=p(()=>(Y.value,e.use24hTimezone?"HH:mm":"hh:mm A")),_e=p(()=>[{tag:"first_name",label:l("first_name"),active:!1,placeholder:l("first_name"),type:"text",required:!0,error:l("first_name_error")},{placeholder:l("last_name"),type:"text",required:!0,tag:"last_name",label:l("last_name"),active:!1,error:l("last_name_error")},{placeholder:l("phone"),type:"text",required:!0,tag:"phone",label:l("phone"),active:!1,error:l("phone_error")},{active:!1,type:"email",required:!0,placeholder:l("email"),tag:"email",label:l("email")},{type:"location_picker",required:!0,placeholder:"Location",tag:"locationConfiguration",label:"Location"},{label:"Button",tag:"button",type:"submit",placeholder:"Button"}]),Pe=p(()=>{Y.value;const a="Thank you for your appointment request. We will contact you shortly to confirm your request. Please call our office at ";return e.selectedCalendar&&(e.selectedCalendar.thanks_message||e.selectedCalendar.form_submit_thanks_message)?!(M.value!=="en"&&(e.selectedCalendar.thanks_message&&e.selectedCalendar.thanks_message.includes(a)||e.selectedCalendar.form_submit_thanks_message&&e.selectedCalendar.form_submit_thanks_message.includes(a))):!1}),B=p(()=>e.step<3);p(()=>e.selectedSlot?d().tz(e.selectedSlot,G.value).format():"NA");const x=p(()=>{var a;return e.disableContactTimezone?G.value:(a=e.selectedTimezone)==null?void 0:a.value}),G=p(()=>{if(e.selectedCalendar.id&&e.allLocationData[e.selectedCalendar.id]&&e.allLocationData[e.selectedCalendar.id].timezone)return e.allLocationData[e.selectedCalendar.id].timezone});p(()=>d(e.appointmentDate).tz(x.value));const Ae=p(()=>(Y.value,d(e.appointmentDate).format("ddd, ll"))),Ve=p(()=>e.filterTimezone?e.availableTimezones.filter(a=>a.label.toLowerCase().includes(e.filterTimezone.toLowerCase())):e.availableTimezones),Ne=p(()=>{const a=e.selectedCalendar;return a?a.calendar_type==="class_booking"&&(a==null?void 0:a.appoinment_per_slot)>1&&(a==null?void 0:a.show_seats_per_slot):!1}),oe=p(()=>Ne.value?Object.keys(Ye(e.daySlots,d(e.appointmentDate).format("YYYY-MM-DD")+".slots",{})).map(o=>d(o).tz(x.value)):Ye(e.daySlots,d(e.appointmentDate).format("YYYY-MM-DD")+".slots",[]).map(o=>d(o).tz(x.value))),E=p(()=>oe.value.filter(a=>a.hour()<12)),P=p(()=>oe.value.filter(a=>a.hour()>=12)),z=p(()=>Qt(e.allLocationData)?[]:Object.values(e.allLocationData).map(a=>a.calendar).sort((a,o)=>a.order-o.order)),C=p(()=>{var a,o;if((a=e.selectedCalendar)!=null&&a.id&&((o=e.allLocationData[e.selectedCalendar.id])!=null&&o.calendar))return e.allLocationData[e.selectedCalendar.id].calendar}),ge=p(()=>{var a,o;if((a=e.selectedCalendar)!=null&&a.id&&((o=e.allLocationData[e.selectedCalendar.id])!=null&&o.email))return e.allLocationData[e.selectedCalendar.id].email}),ve=p(()=>{var a,o;if((a=e.selectedCalendar)!=null&&a.id&&((o=e.allLocationData[e.selectedCalendar.id])!=null&&o.phone))return e.allLocationData[e.selectedCalendar.id].phone}),He=p(()=>{var a;return(a=e.selectedCalendar)!=null&&a.id&&e.allLocationData[e.selectedCalendar.id]?e.allLocationData[e.selectedCalendar.id].country:"US"}),Ue=p(()=>ve.value?ve.value:ge.value?ge.value:void 0),ne=p(()=>e.selectedCalendar?e.selectedCalendar.pixel_id:null),$e=p(()=>e.event?d(e.event.start_time).tz(x.value).format("ddd, ll"):null);j(()=>e.appointmentDate,a=>{if(a===void 0)e.events=[];else{Ce();const o=document.querySelector(".pick-hours--wrap");o&&o.addEventListener("scroll",q)}}),yt(()=>{const a=document.querySelector(".pick-hours--wrap");a&&a.removeEventListener("scroll",q)}),j(()=>oe.value,a=>{e.selectedSlot=null});const K=p(()=>Array.isArray(e.recurringSlots)&&e.recurringSlots.length),je=p(()=>{var a;return((a=e.selectedCalendar)==null?void 0:a.enable_consent_check)??!0}),We=p(()=>{var a;return((a=e.selectedCalendar)==null?void 0:a.consent_label)??l("default_consent_text")}),S=p(()=>{var a;return(a=e.selectedCalendar)==null?void 0:a.stripe}),Ze=p(()=>{var o;const a=Math.round(((o=S==null?void 0:S.value)==null?void 0:o.amount)*100)/100;return Number.isInteger(a)?a:a.toFixed(2)}),Qe=p(()=>Gt(S.value));j(()=>e.selectedSlot,a=>{var o,m;try{if((o=e.selectedCalendar)!=null&&o.recurringRule&&a){e.showRecurringSlots=!0;const h=new Date(a).getTime();it(h,(m=e.selectedTimezone)==null?void 0:m.value)}else e.showRecurringSlots=!1,e.recurringSlots=[]}catch(h){console.error(h),e.showRecurringSlots=!1,e.recurringSlots=[]}}),j(()=>e.selectedTimezone,()=>{e.timezoneChangeState&&(e.isInitialFetch=!0,A({reset:!0,setAppointmentDate:!0,findNextAvailableSlot:!0}))}),j(()=>e.selectedCalendar,async a=>{if(a.availability_type==Me.STANDARD&&a.allow_booking_for_unit&&a.allow_booking_for){const o=d().tz(a.timezone).add(a.allow_booking_for,a.allow_booking_for_unit).endOf("day");e.calendarRange.to=d(o).tz(d.tz.guess(),!0).format("YYYY-M-D")}e.lang===void 0&&a.language&&M!==a.language&&a.language!=="en"&&(M.value=a.language,await Et(`unpkg.com/dayjs@1.8.21/locale/${M.value}.js`,()=>{d.locale(M.value),Fe(M.value),Y.value=M.value})),e.use24hTimezone||(e.use24hTimezone=a.use24hFormat),e.startDayOfWeek=a.startDayOfWeek,a.availability_type==Me.STANDARD&&a.allow_booking_after_unit&&a.allow_booking_after_unit!=="hours"&&a.allow_booking_after&&(e.calendarRange.from=d().tz(a.timezone).add(a.allow_booking_after,a.allow_booking_after_unit).startOf("day").format("YYYY-M-D")),!te.funnelPreview&&ne.value!==void 0&&ne.value!==""&&ie(()=>{$t(ne.value)}),e.disableContactTimezone=a.disableContactTimezone,A({reset:!0,setAppointmentDate:!0,findNextAvailableSlot:!0}),ot()}),w.query.use24hFormat&&(e.use24hTimezone=!0),w.query.lang&&(e.lang=w.query.lang),e.allLocationData=te.calendarData,e.calendarId=w.params.id,e.popup=w.query.popup,e.eventId=w.query.event_id,Ct(()=>{q()});function q(){const a=O.value;if(a){const o=parseInt(a.scrollHeight),m=window.innerWidth<768?o*1.3:o*1.03;window.parent.postMessage(["highlevel.setHeight",{height:o>500?m:560,id:"msgsndr-calendar"}],"*")}}function Je(){const a=O?O.value:null;if(!a)return;new ResizeObserver(()=>{q()}).observe(a)}Je(),kt(async()=>{window.dayjs=d,et(),await tt(),ie(()=>{if(e.selectedCalendar&&e.selectedCalendar.code_block){const a=document.createRange();a.setStart(document.head,0),document.body.appendChild(a.createContextualFragment(e.selectedCalendar.code_block))}pt()}),setTimeout(()=>{q()},2e3),window.addEventListener("beforeunload",()=>{var a;Jt((a=e.selectedCalendar)==null?void 0:a.id)},{passive:!0})});function se(a,o,m){const h=a.scrollTop,v=o-h;let f=0;const c=20,_=function(b,N,H,D){return b/=D/2,b<1?H/2*b*b+N:(b--,-H/2*(b*(b-2)-1)+N)},g=function(){f+=c;const b=_(f,h,v,m);a.scrollTop=b,f<m&&setTimeout(g,c)};g()}function be(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function Ge(a){const{to:o,from:m}=e.calendarRange;return o&&new Date(be(a))>new Date(o)||m&&new Date(be(a))<new Date(m)?!0:e.availableTime.length>0?!e.availableTime.includes(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()):!0}function Ke(){const a=me.value;a&&se(a,a.offsetTop,500),(window.matchMedia("only screen and (max-width: 649px)").matches||a.closest(".hl-app-mobile"))&&(ae.value.className+=" selected-date")}function Xe(){ae.value.classList.remove("selected-date")}function ye(a){let o=0;a==="am"?(e.AMVisibleSlot+6>=E.value.length?(o=(E.value.length-1)%5,e.AMVisibleSlot=-1):(o=5,e.AMVisibleSlot=e.AMVisibleSlot+5),o<5&&(o=0)):(e.PMVisibleSlot+6>=P.value.length?(o=(P.value.length-1)%5,e.PMVisibleSlot=-1):(o=5,e.PMVisibleSlot=e.PMVisibleSlot+5),o<5&&(o=0));const m=Q.value["pick-hours--"+a];if(m){const h=o>0?parseFloat(m.scrollTop)+o*49:0;se(m,h,500)}}function Ce(){ke("am"),ke("pm")}function ke(a){const o=Q.value["pick-hours--"+a];o&&se(o,0,500)}function et(){e.timezones.includes(e.timezone)||e.timezones.push(e.timezone),e.availableTimezones=Zt(e.timezones.map(a=>{const o=d().tz(a);return{label:`GMT${o.format("Z")} ${a} (${o.format("z")})`,sortFormat:o.format("z"),value:a,currentTime:o.format(T.value),utcOffset:o.utcOffset()}}),"utcOffset"),e.selectedTimezone=e.availableTimezones.find(a=>{const o=e.disableContactTimezone?G.value:e.timezone;return a.value===o})}async function tt(){if(z.value.length===0){e.step=4,e.noCalendarError=!0;return}const a=z.value.findIndex(o=>{const m=w.query.calendar;return o.id===w.query.calendar&&m.split(",")[0]});a>-1?e.selectedCalendar=z.value[a]:e.selectedCalendar=z.value[0];try{if(e.selectedCalendar.enable_recurring){const{booking_option:o,booking_overlap_default_status:m,...h}=e.selectedCalendar.recurring,v={freq:h.freq,count:h.count,interval:h.interval||1,monthDays:h.month_days,weekDays:h.week_days},f=await de.generateRRuleText(v);e.selectedCalendar.recurringRule=(f[0].toUpperCase()+f.slice(1)).replace("time","occurrence")}}catch(o){console.error(o),e.selectedCalendar.recurringRule="-"}e.disableContactTimezone=C.value.disableContactTimezone,e.selectedTimezone=e.availableTimezones.find(o=>e.disableContactTimezone?o.value===G.value:o.value===e.timezone),st()}function at(){const a={},o=_e.value;return a.form=[],je.value&&o.splice(o.length-1,0,{type:"terms_and_conditions",label:"T & C",active:!1,tag:"terms_and_conditions",placeholder:We.value,required:!0}),e.selectedCalendar.stripe&&o.splice(_e.value.length-1,0,{tag:"payment",label:l("payment"),active:!1,placeholder:"",type:"payment",required:!0}),a.form={width:"550",formLabelVisible:!0,fbPixelId:"",layout:!1,customStyle:"",stickyContact:!!e.selectedCalendar.sticky_contact,fields:o,align:"center"},a.country=He.value,a.locationId=e.selectedCalendar.location_id,a}async function ot(){var a;if(e.selectedCalendar&&e.selectedCalendar.form_id){const o=I.public.FORMS_SERVICE_URL+"/forms/data/"+e.selectedCalendar.form_id,m=await $fetch(o),h=(a=m==null?void 0:m.form)==null?void 0:a.fields;if(h&&h.length>0){h[h.length-1],m.form.button={background:"#188bf6",color:"#fff",border:{border:0,padding:15,radius:4}};const v=h.find(f=>f.type==="payment");e.selectedCalendar.stripe&&!v&&h.push({tag:"payment",label:"Payment",active:!1,placeholder:"",type:"payment",required:!0})}e.formData=m}e.selectedCalendar&&!e.selectedCalendar.form_id&&(e.formData=at())}function we({month:a,year:o}){e.isFetchingSlots&&e.autoNavigate||`${o}-${a+1}-1`!==e.calendarStartingDate&&(e.autoNavigate=!1,e.prev=d(e.calendarStartingDate,"YYYY-M-D").valueOf()>d(`${o}-${a+1}-1`,"YYYY-M-D").valueOf(),e.calendarStartingDate=`${o}-${a+1}-1`,A({reset:!0,setAppointmentDate:!0}))}function nt(){e.isFetchingSlots||A({reset:!0,setAppointmentDate:!1,findNextAvailableSlot:!0})}async function A({reset:a=!1,setAppointmentDate:o=!1,findNextAvailableSlot:m=!1,tries:h=0}){var N,H;e.AMVisibleSlot=-1,e.PMVisibleSlot=-1,Ce(),e.isLoading=!0,e.isFetchingSlots=!0,e.events=[],a&&(e.daySlots={}),e.showNoDates=!1,e.seqCall++;const v=d(e.calendarStartingDate,"YYYY-M-D"),f=v.clone().startOf("month"),c=v.clone().endOf("month"),_=await de.getFreeSlots({calendar_id:e.selectedCalendar.id,startDate:f.valueOf(),endDate:c.valueOf(),timezone:x.value,enableLookBusy:!0},e.uniqueId);e.daySlots={...e.daySlots,..._},e.availableTime=Object.keys(_).map(D=>d(D).format("YYYY-M-D"));let g=(N=Object.keys(_).filter(D=>D!=="traceId"))==null?void 0:N.sort();const b=d(g[0],"YYYY-M-D").tz(x.value).startOf("month").format("YYYY-M-D");if(d(e.appointmentDate).clone().startOf("month").isAfter(d(e.calendarStartingDate).clone().startOf("month"))&&b!==e.calendarStartingDate&&(e.daySlots={},e.prev=!1,g=[]),o&&g.length>0)e.calendarRange.from=e.isInitialFetch?d(g[0],"YYYY-M-D").tz(x.value).format("YYYY-M-D"):e.calendarRange.from,e.isInitialFetch=!1,b!==e.calendarStartingDate&&(e.calendarStartingDate=b),g.some(le=>{const U=d(le,"YYYY-M-D"),$=d(e.calendarStartingDate,"YYYY-M-D");return U.isValid()&&$.isValid()&&U.isSame($,"month")})&&(e.appointmentDate=g.find(le=>{const U=d(le,"YYYY-M-D"),$=d(e==null?void 0:e.calendarStartingDate,"YYYY-M-D");return U.isValid()&&$.isValid()&&U.isSame($,"month")})??""),e.prev=!1;else if(g.length===0&&m&&h<Rt){e.autoNavigate=!0;const D=e.prev?-1:1;e.calendarStartingDate=v.add(D,"month").format("YYYY-M-D"),e.appointmentDate=e.calendarStartingDate,(H=ue.value)==null||H.incrementMonth(D),await A({reset:a,setAppointmentDate:!0,findNextAvailableSlot:!0,tries:h+1})}else g.length===0&&(e.showNoDates=!0);e.isLoading=!1,e.timezoneChangeState=!0,e.isFetchingSlots=!1}async function st(){if(e.eventId)try{const a=await $fetch(I.public.newBaseURL+"/appointment/"+e.eventId);a?e.event=a:e.noEventFound=!0}catch{e.noEventFound=!0}}const lt=p(()=>K.value&&e.recurringSlots.filter(a=>!a.isUnavailable).length);async function it(a,o){e.loadingRecurringSlots=!0;const m=await de.getRecurringSlots(e.selectedCalendar.id,{selectedSlot:a,timezone:o});e.recurringSlots=m.map(h=>{const v=d(h.slot).format("ddd, ll"),f=d(h.slot).tz(o),c=f.format(T.value);let _=d(f.format("YYYY-MM-DDTHH:mm"),o);_=_.add(e.selectedCalendar.slot_duration,"m");const g=_.format(T.value);return{text:`${v} [ ${c} - ${g} ]`,isUnavailable:h.status!=="AVAILABLE"}}),e.loadingRecurringSlots=!1}function V(){const a=pe.value;e.step===1&&e.selectedSlot?(e.step++,a&&a.querySelector("input").setAttribute("autofocus","true")):e.step===2||e.step++,setTimeout(()=>{q()},100)}function rt(a){e.disableBackBtn=a.disable}function dt(a){ie(()=>{Ut("track","Schedule",(a==null?void 0:a.fbEventId)||"")});const o=w.query.redirect||void 0;if(window.parent.postMessage(["msgsndr-booking-complete",{fingerprint:a.fingerprint,calendarId:C.value.id}],"*"),o==="false"||o===!1||te.redirect===!1){Re("on-submit",a);return}if(a&&a.calendarThankYouUrl){const m=Ft(e.selectedCalendar.location_id);window.top.location.href=It(a.calendarThankYouUrl,m);return}(e.selectedCalendar.form_submit_thanks_message||e.selectedCalendar.thanks_message)&&(e.thanksMsg=Ot(e.selectedCalendar.form_submit_thanks_message||e.selectedCalendar.thanks_message,a.cookiePayload)),K.value?e.appointmentIds=[...a.ids]:e.appointmentIds=[a.id],e.creatingAppointment=!1,e.step++}function ct(a){e.serverError=a.error}async function ut(){if(e.step++,e.notes){e.isLoading=!0;const a={notes:e.notes};await Promise.all(e.appointmentIds.map(async o=>{const m=I.public.newBaseURL+"/appointment/"+o+"/note";await $fetch(m,{method:"POST",body:a})})),e.isLoading=!1}}function Se(){window.self!==window.top&&parent.postMessage(["highlevel.closeWindow"],"*");const a=O.value;a&&Bt(a,30)}function mt(a){e.isNextMonthDisabled=a}function pt(){{let a=he.value;a.clientWidth<650&&window.innerWidth>650?a.classList.add("hl-app-mobile"):a.classList.contains("hl-app-mobile")&&a.classList.remove("hl-app-mobile")}}const ht=p(()=>{var a,o;return((a=C.value)==null?void 0:a.stripe)&&Object((o=C.value)==null?void 0:o.stripe).hasOwnProperty("amount")});return wt(()=>{if(ht)return{script:[{src:"https://web.archive.org/web/20240921110110/https://js.stripe.com/v3/",async:!0,type:"text/javascript"}]}}),(a,o)=>{var h,v,f;const m=ft;return s(),i("div",{class:"hl-app",ref_key:"calendarElementRef",ref:he},[n("div",Kt,[n("form",{onSubmit:W(V,["prevent"])},[n("div",{ref_key:"hlWidget",ref:O,class:re(["hl_widget",{"--small":!t(B),"white-bg":!t(e).popup},{popup:t(e).popup}]),id:t(B)?"hl_widget":"hl_widget-requested"},[n("div",{ref_key:"hlWidgetInner",ref:ae,class:re([{"no-shadow ":!t(e).popup},"hl_widget-inner"])},[t(B)&&t(e).popup?(s(),i("div",ta,[n("h2",null,[R(r(t(e).event?t(l)("reschedule_current_time",{time:t($e)}):t(l)("appointment_request_form"))+" ",1),t(C)?(s(),i("span",aa,r(t(C).name),1)):(s(),F(Z,{key:1,color:"#607179",size:"20px",style:{display:"inline-block","margin-bottom":"-2px","margin-left":"5px"}}))]),n("button",{onClick:Se,type:"button",class:"hl_widget-close"}," × ")])):t(e).popup&&t(e).step===3?(s(),i("div",oa,[n("h2",null,r(t(l)("appointment_requested")),1),na])):t(e).popup&&t(e).step===4?(s(),i("div",sa,[n("h2",null,r(t(l)("thank_you")),1),la])):u("",!0),t(B)?(s(),i("div",{key:3,class:re(["hl_widget-body",{"step-form":t(e).step===2}])},[n("div",ia,[!t(e).eventId||t(e).event&&t(e).event._id?(s(),i("div",ra,[t(C)&&t(C).widget_logo&&t(C).widget_logo.url?(s(),i("div",da,[n("img",{class:"appointment_widgets--classic-calendar-logo",src:t(C).widget_logo.url||"",style:St(t(C).widget_logo.shape==="round"?{borderRadius:"50%"}:"")},null,12,ca),ua])):(s(),i("div",ma)),De(n("div",pa,[t(z).length>1?(s(),i("div",ha)):u("",!0),n("div",fa,[n("div",_a,[n("h3",ga,r(t(l)("pick_a_date_and_time")),1),t(z).length>1?(s(),i("div",va,[X(t(ze),{modelValue:t(e).selectedCalendar,"onUpdate:modelValue":o[0]||(o[0]=c=>t(e).selectedCalendar=c),options:t(z),allowEmpty:!1,"show-labels":!1,closeOnSelect:!0,label:"name",class:"multi_select_calendar"},{option:ee(({option:c})=>[n("div",ba,[n("span",ya,r(c.name),1)])]),noResult:ee(()=>[R(r(t(l)("no_calendar_found")),1)]),_:1},8,["modelValue","options"])])):u("",!0),n("div",Ca,[t(e).appointmentDate?(s(),F(Wt,{key:0,ref_key:"datePickerRef",ref:ue,modelValue:t(e).appointmentDate,"onUpdate:modelValue":[o[1]||(o[1]=c=>t(e).appointmentDate=c),Ke],format:"YYYY-MM-DD",displayFormat:"YYYY-MM-DD",hasInputElement:!1,isDateDisabled:Ge,disablePeriodControl:!0,calendarRange:t(e).calendarRange,onChangedMonth:we,onChangedYear:we,placeholder:t(l)("date_of_birth"),class:"date-picker-calendar",onDisableNextMonth:mt,weekdays:t(Be),months:t(Ee),startDayOfWeek:t(e).startDayOfWeek,nextMonthCaption:t(l)("next_month"),prevMonthCaption:t(l)("previous_month")},null,8,["modelValue","calendarRange","placeholder","weekdays","months","startDayOfWeek","nextMonthCaption","prevMonthCaption"])):u("",!0),!t(e).isLoading&&t(e).showNoDates?(s(),i("div",ka,[t(e).isNextMonthDisabled?u("",!0):(s(),i("a",{key:0,"aria-label":t(l)("go_to_next_month"),onClick:nt},[R(r(t(l)("go_to_next_month"))+" ",1),Sa],8,wa)),n("div",null,r(t(l)("no_slot_available_this_month")),1)])):u("",!0)]),n("div",Da,[t(e).disableContactTimezone?u("",!0):(s(),F(t(ze),{key:0,modelValue:t(e).selectedTimezone,"onUpdate:modelValue":o[2]||(o[2]=c=>t(e).selectedTimezone=c),closeOnSelect:!0,allowEmpty:!1,"show-labels":!1,options:t(Ve),label:"label",placeholder:t(l)("timezone"),class:"multi_select_calendar"},{option:ee(({option:c})=>[n("div",La,[n("span",xa,r(c.label),1),n("span",Ma,r(c.currentTime),1)])]),noResult:ee(()=>[R(r(t(l)("no_timezone_found")),1)]),_:1},8,["modelValue","options","placeholder"]))])]),n("div",{ref_key:"appointmentSlots",ref:me,id:"appointmentSlots",class:"hl_widget--pick-hours d_none"},[n("div",za,[n("div",{class:"pick-date-title"},[n("span",{onClick:Xe,class:"pr-3 back_button"},Ta)]),n("h3",null,[R(r(t(l)("available_starting_times_for"))+" ",1),t(e).appointmentDate?(s(),i("strong",qa,r(t(Ae)),1)):u("",!0),t(e).loadingRecurringSlots?(s(),F(Z,{key:1,loading:!0,color:"#178AF6",size:"25px"})):t(K)?(s(),i("div",{key:2,onClick:W(Ie,["stop","prevent"])},[n("div",Fa,[n("span",Ia," +"+r(t(lt)-1)+" more ",1)]),X(jt,{ref_key:"recurringModalRef",ref:fe,recurringSlots:t(e).recurringSlots,recurrenceCount:t(e).selectedCalendar.recurring.count},null,8,["recurringSlots","recurrenceCount"])],8,Ra)):u("",!0)])]),t(e).isLoading?(s(),i("div",Oa,[X(Z,{loading:!0,color:"#188bf6",size:"30px"})])):u("",!0),t(e).isLoading?u("",!0):(s(),i("div",Ba,[n("div",Ea,[n("h4",null,r(t(l)("am")),1),t(E).length?u("",!0):(s(),i("p",Pa,r(t(l)("no_slots_available")),1)),n("div",{id:"pick-hours--am",ref:c=>t(Q)["pick-hours--am"]=c},[(s(!0),i(Le,null,xe(t(E),(c,_)=>(s(),i("div",{id:"am"+_,key:_,class:"hour-select"},[n("input",{value:c.valueOf(),id:c.format("HH:mm"),checked:t(e).selectedSlot&&t(e).selectedSlot.valueOf()===c.valueOf(),type:"radio",name:"hour-select"},null,8,Va),n("label",{for:c.format("HH:mm"),onClick:g=>t(e).selectedSlot=c,textContent:r(c.format(t(T)))},null,8,Na),!t(e).isLoading&&t(e).step===1?(s(),i("button",{key:0,onClick:W(V,["prevent"]),type:"button",disabled:t(e).loadingRecurringSlots,class:"hl_select_button --primary"},r(t(e).loadingRecurringSlots?t(l)("fetching_recurring_slots"):t(l)("select_time")),9,Ha)):u("",!0)],8,Aa))),128))],512),t(E).length>5?(s(),i("a",{key:1,"aria-label":t(l)("load_more"),onClick:o[3]||(o[3]=c=>ye("am")),href:"javascript: void(0)",class:"load-more"},r(t(l)("load_more")),9,Ua)):u("",!0)]),n("div",$a,[n("h4",null,r(t(l)("pm")),1),t(P).length?(s(),i("div",{key:1,id:"pick-hours--pm",ref:c=>t(Q)["pick-hours--pm"]=c},[(s(!0),i(Le,null,xe(t(P),(c,_)=>(s(),i("div",{key:_,id:"pm"+_,class:"hour-select"},[n("input",{value:c.valueOf(),id:c.format("HH:mm"),checked:t(e).selectedSlot&&t(e).selectedSlot.valueOf()===c.valueOf(),type:"radio",name:"hour-select"},null,8,Za),n("label",{for:c.format("HH:mm"),textContent:r(c.format(t(T))),onClick:g=>t(e).selectedSlot=c},null,8,Qa),!t(e).isLoading&&t(e).step===1?(s(),i("button",{key:0,onClick:W(V,["prevent"]),type:"button",class:"hl_select_button --primary"},r(t(l)("select_time")),9,Ja)):u("",!0)],8,Wa))),128))],512)):(s(),i("p",ja,r(t(l)("no_slots_available")),1)),t(P).length>5?(s(),i("a",{key:2,"aria-label":t(l)("load_more"),onClick:o[4]||(o[4]=c=>ye("pm")),href:"javascript: void(0)",class:"load-more"},r(t(l)("load_more")),9,Ga)):u("",!0)])]))],512)])],512),[[Dt,t(e).step===1]]),t(e).step===2?(s(),i("div",{key:2,id:"form-builder",ref_key:"formBuilderRef",ref:pe,class:"form-builder--wrap"},[t(e).serverError?(s(),i("div",Ka,[n("span",Xa,r(t(e).serverError),1)])):u("",!0),n("div",eo,[t(e).disableBackBtn?u("",!0):(s(),i("span",{key:0,onClick:o[5]||(o[5]=c=>t(e).step=1),class:"btn-back pl-0 pr-3"},ao)),t(e).disableBackBtn?(s(),i("span",oo,so)):u("",!0),n("div",lo,[n("div",null,[t(e).selectedSlot?(s(),i("span",io,[ro,n("span",co,r(t(e).selectedSlot.format(t(T)))+" ("+r(t(e).selectedTimezone.sortFormat)+") ",1),R(" - "),t(e).selectedCalendar&&t(e).selectedCalendar.slot_duration?(s(),i("span",uo,r(t(e).selectedCalendar.slot_duration%60===0?t(e).selectedCalendar.slot_duration/60+" "+t(l)("hr"):t(e).selectedCalendar.slot_duration+" "+t(l)("minutes")),1)):u("",!0)])):u("",!0),t(e).selectedSlot?(s(),i("span",mo,[po,n("span",ho,r(t(e).selectedSlot.format("ddd, ll")),1)])):u("",!0)]),t(S)&&((h=t(S))!=null&&h.hasOwnProperty("amount"))?(s(),i("div",fo,[n("span",_o,[go,n("span",vo,r(t(l)("total_amount")),1),n("span",bo,r(t(Te)(t(S).currency))+" "+r(t(Ze)),1)]),(v=t(S))!=null&&v.hasOwnProperty("deposit")?(s(),i("span",yo,[Co,n("span",ko,r(t(l)("pay_now")),1),n("span",wo,r(t(Te)(t(S).currency))+" "+r(t(Qe)),1)])):u("",!0)])):u("",!0)])]),t(e).formData?(s(),F(m,{key:1,timezone:t(x),formId:t(e).selectedCalendar.form_id,formElementClass:y.calendarElementClass,formData:t(e).formData,calendar:t(C),selectedSlot:t(e).selectedSlot,event:t(e).event,pageUrl:y.pageUrl,urlParams:y.urlParams,baseReferrrer:y.baseReferrrer,guests:t(e).guests,"guest-count-detail":t(e).guestCountDetail,stickyContactData:y.stickyContactData,stickyContactFingerprint:y.stickyContactFingerprint,onStep:dt,onProcessError:ct,onDisableBackOnSubmit:rt,class:"hl_widget-step2",funnelPreview:y.funnelPreview,"form-submission-instruction":t(Oe),locale:(f=t(e).selectedCalendar)==null?void 0:f.outbound_locale},null,8,["timezone","formId","formElementClass","formData","calendar","selectedSlot","event","pageUrl","urlParams","baseReferrrer","guests","guest-count-detail","stickyContactData","stickyContactFingerprint","funnelPreview","form-submission-instruction","locale"])):u("",!0)],512)):u("",!0)])):u("",!0),t(e).noEventFound?(s(),i("div",So,r(t(l)("no_calendar_event_found")),1)):u("",!0)])],2)):t(e).step===3?(s(),i("div",Do,[t(Pe)?(s(),i("p",{key:0,textContent:r(t(e).thanksMsg||t(e).selectedCalendar.form_submit_thanks_message||t(e).selectedCalendar.thanks_message)},null,8,Lo)):(s(),i("p",xo,r(t(l)("thank_you_for_your_appointment_request"))+" "+r(t(l)("contact_you_shortly_with_contact_method",{contactMethod:t(Ue)})),1)),n("div",Mo,[n("label",null,r(t(l)("additional_information")),1),De(n("textarea",{"onUpdate:modelValue":o[6]||(o[6]=c=>t(e).notes=c),class:"form-control",rows:"5",placeholder:t(l)("anything_youd_like_to_know_before_appointment")},null,8,zo),[[Lt,t(e).notes]])])])):t(e).noCalendarError?(s(),i("div",Yo,[n("p",null,r(t(l)("cannot_find_calendar")),1)])):(s(),i("div",To,[t(e).appointmentIds&&t(e).appointmentIds.length?(s(),i("div",qo,[n("a",{"aria-label":t(l)("add_to_google_calendar"),href:t(ce)+`/google/calendar/add-event/${t(e).appointmentIds[0]}`,class:"calendar-button",target:"_blank"},[(s(),i("svg",Fo,Oo)),n("span",Bo,r(t(l)("add_to_google_calendar")),1)],8,Ro),n("a",{"aria-label":t(l)("add_to_outlook_ical"),href:t(ce)+`/google/calendar/get-ics/${t(e).appointmentIds[0]}`,class:"calendar-button",target:"_blank"},[(s(),i("svg",Po,Vo)),n("span",No,r(t(l)("add_to_outlook_ical")),1)],8,Eo)])):u("",!0)])),t(B)&&(!t(e).eventId||t(e).event&&t(e).event._id)?(s(),i("div",Ho,[t(e).isLoading&&t(e).step==2?(s(),i("div",Uo,[X(Z,{loading:!0,color:"#188bf6",size:"30px"})])):u("",!0),!t(e).isLoading&&t(e).popup?(s(),i("button",{key:1,onClick:Se,type:"button",class:"hl_button hl_button-cancel"},r(t(l)("cancel")),1)):u("",!0),!t(e).isLoading&&t(e).step===1?(s(),i("button",{key:2,onClick:W(V,["prevent"]),disabled:!t(e).selectedSlot||t(e).isLoading||t(e).loadingRecurringSlots,class:"hl_button --primary --first-step",type:"button"},r(t(e).loadingRecurringSlots?t(l)("fetching_recurring_slots"):t(l)("select_date")),9,$o)):u("",!0)])):t(e).step===3?(s(),i("div",jo,[t(e).isLoading?u("",!0):(s(),i("button",{key:0,onClick:V,type:"button",class:"hl_button mr-2"},r(t(l)("skip")),1)),t(e).isLoading?u("",!0):(s(),i("button",{key:1,disabled:!t(e).notes,onClick:ut,type:"button",class:"hl_button --primary"},r(t(l)("submit")),9,Wo)),t(e).isLoading?(s(),F(Z,{key:2,loading:!0,color:"#188bf6",size:"30px"})):u("",!0)])):u("",!0)],2)],10,ea)],40,Xt)],512)],512)}}});const un=Yt(Zo,[["__scopeId","data-v-ed82264d"]]);export{un as _};


}
/*
     FILE ARCHIVED ON 11:01:10 Sep 21, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 02:15:55 Jul 17, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.721
  exclusion.robots: 0.034
  exclusion.robots.policy: 0.02
  esindex: 0.014
  cdx.remote: 10.799
  LoadShardBlock: 982.706 (3)
  PetaboxLoader3.datanode: 142.475 (4)
  PetaboxLoader3.resolve: 1044.091 (3)
  load_resource: 250.392
*/